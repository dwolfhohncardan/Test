
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Material-Check Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        body { 
            background-color: #262626;
            height: 100vh;
            overflow: hidden;
            font-family: sans-serif;
        }
        .hohn-orange { color: #ff9800; }
        .hohn-bg-orange { background-color: #ff9800 !important; }
        
        /* Karten-Styling */
        .machine-card {
            width: 80%;
            height: 200px;
            background-color: #333;
            border-radius: 15px;
            border: 4px solid transparent;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.2s;
            cursor: pointer;
            margin: auto;
        }
        .machine-card.active {
            border-color: #ff9800;
            background-color: #444;
        }
        .status-dot {
            width: 12px; height: 12px; border-radius: 50%;
            background-color: #666; margin-bottom: 10px;
        }
        .active .status-dot { background-color: #ff9800; box-shadow: 0 0 8px #ff9800; }

        /* Button Fix */
        #submitBtn {
            z-index: 9999;
            position: relative;
        }
    </style>
</head>
<body class="p-4 text-white">

    <header class="text-center mb-4">
        <h1 class="text-2xl font-bold">Josef Hohn GmbH</h1>
        <p class="text-xs uppercase tracking-widest hohn-orange">Material-Anforderung</p>
    </header>

    <div class="swiper mySwiper h-64">
        <div class="swiper-wrapper" id="swiperWrapper"></div>
        <div class="swiper-pagination"></div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 p-6 bg-[#262626] border-t border-gray-800">
        <form action="https://formspree.io/f/xpqryvel" method="POST" id="materialForm">
            <input type="hidden" name="Maschinenliste" id="selectedInput">
            <button type="submit" id="submitBtn" disabled 
                class="w-full bg-gray-700 text-gray-500 font-bold py-5 rounded-xl text-xl uppercase transition-all opacity-50">
                Senden (0)
            </button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const machines = ["Grob 2", "Integrex", "Nexus", "Smart", "Roboterlinie Drehen", "Roboterlinie Bohren", "Ergo 260CL", "Axisco", "Karl Klink", "Padovani 3", "Magdeburg", "DMC 60 (H)", "Zentriermaschine", "Pronto 1", "Pronto 3", "Pronto 4", "Pronto 5"];
        let selected = new Set();

        const wrapper = document.getElementById('swiperWrapper');
        machines.forEach(name => {
            const slide = document.createElement('div');
            slide.className = "swiper-slide flex justify-center items-center";
            slide.innerHTML = `
                <div class="machine-card" onclick="toggle('${name}', this)">
                    <div class="status-dot"></div>
                    <span class="status-text text-[10px] text-gray-400 uppercase font-bold mb-2">Bereit</span>
                    <span class="text-2xl font-black uppercase text-center px-2">${name}</span>
                </div>
            `;
            wrapper.appendChild(slide);
        });

        const swiper = new Swiper(".mySwiper", {
            centeredSlides: true,
            slidesPerView: 1,
            pagination: { el: ".swiper-pagination", clickable: true }
        });

        function toggle(name, el) {
            const label = el.querySelector('.status-text');
            if (selected.has(name)) {
                selected.delete(name);
                el.classList.remove('active');
                label.innerText = "Bereit";
                label.style.color = "#9ca3af";
            } else {
                selected.add(name);
                el.classList.add('active');
                label.innerText = "Bedarf";
                label.style.color = "#ff9800";
            }
            update();
        }

        function update() {
            const btn = document.getElementById('submitBtn');
            const input = document.getElementById('selectedInput');
            
            input.value = Array.from(selected).join(', ');
            btn.innerText = `SENDEN (${selected.size})`;

            if (selected.size > 0) {
                btn.disabled = false;
                btn.classList.add('hohn-bg-orange', 'text-white', 'opacity-100');
                btn.classList.remove('bg-gray-700', 'text-gray-500', 'opacity-50');
            } else {
                btn.disabled = true;
                btn.classList.remove('hohn-bg-orange', 'text-white', 'opacity-100');
                btn.classList.add('bg-gray-700', 'text-gray-500', 'opacity-50');
            }
        }
    </script>
</body>
</html>
